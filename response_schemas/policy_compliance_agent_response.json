{
  "agent_name": "Policy Compliance Agent",
  "agent_id": "696a2d6d9ea90559bbf3e8e7",
  "agent_purpose": "analyzer",
  "description": "Validates expenses against policy rules including category limits, documentation requirements, approval thresholds",
  "response_schema": {
    "status": "string",
    "result": {
      "compliant": "boolean",
      "violations": [
        {
          "policy_rule": "string",
          "violation_type": "string",
          "severity": "string",
          "description": "string",
          "policy_reference": "string"
        }
      ],
      "category_limit": {
        "limit": "number",
        "actual": "number",
        "within_limit": "boolean"
      },
      "required_approvals": [
        "string"
      ],
      "missing_documents": [
        "any"
      ],
      "recommendation": "string",
      "reasoning": "string"
    },
    "metadata": {
      "agent_name": "string",
      "timestamp": "string"
    }
  },
  "example_response": {
    "status": "error",
    "result": {
      "compliant": false,
      "violations": [
        {
          "policy_rule": "Expenses must be submitted within 60 days of transaction date.",
          "violation_type": "late_submission",
          "severity": "critical",
          "description": "Expense transaction dated January 12, 2026 is outside the allowed timeframe for submission.",
          "policy_reference": "Section 4.2: Timeliness of Expense Submission"
        }
      ],
      "category_limit": {
        "limit": 150,
        "actual": 125,
        "within_limit": true
      },
      "required_approvals": [
        "Manager"
      ],
      "missing_documents": [],
      "recommendation": "reject",
      "reasoning": "The expense submission violates company policy due to late submission outside of the allowed timeframe, despite being within the category limit and having all required documentation."
    },
    "metadata": {
      "agent_name": "Policy Compliance Agent",
      "timestamp": "2024-06-12T14:31:00Z"
    }
  },
  "is_actual_tested": true,
  "test_timestamp": "2026-01-16T12:25:40.143035",
  "test_message_used": "Analyze this sample data for testing",
  "actual_test_response": {
    "status": "error",
    "result": {
      "compliant": false,
      "violations": [
        {
          "policy_rule": "Expenses must be submitted within 60 days of transaction date.",
          "violation_type": "late_submission",
          "severity": "critical",
          "description": "Expense transaction dated January 12, 2026 is outside the allowed timeframe for submission.",
          "policy_reference": "Section 4.2: Timeliness of Expense Submission"
        }
      ],
      "category_limit": {
        "limit": 150,
        "actual": 125,
        "within_limit": true
      },
      "required_approvals": [
        "Manager"
      ],
      "missing_documents": [],
      "recommendation": "reject",
      "reasoning": "The expense submission violates company policy due to late submission outside of the allowed timeframe, despite being within the category limit and having all required documentation."
    },
    "metadata": {
      "agent_name": "Policy Compliance Agent",
      "timestamp": "2024-06-12T14:31:00Z"
    }
  },
  "test_passed": true
}